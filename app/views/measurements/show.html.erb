<h1> ID:<%= @measurement.id %> </h1>

<hr>
<h2>Map</h2>
<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>

<script type="text/javascript">
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
      markers = handler.addMarkers(<%=raw @hash.to_json %>);
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
    });
</script>

<hr>
<h2>Graph</h2>
<%= high_chart("sample", @h) %>


<hr>
<h2>Datas</h2>
<% if @measurement.records.any? %>
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr><th>ID</th><th>Depth</th><th>Latitude</th><th>Longitude</th></tr>
    </thead>
    <tbody>
    <% @measurement.records.each do |r| %>
    <tr><td><%= r.id %></td>
      <td><%= r.depth %></td>
      <td><%= r.latitude %></td>
      <td><%= r.longitude %></td>
    </tr>
    <% end %>
    </tbody>
<% else %>
  <h4>No data yet.</h4>
<% end %>
